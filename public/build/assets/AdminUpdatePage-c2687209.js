import{r as p,K as T,j as e,F as w,a as t,n as I}from"./app-9c3da217.js";import{L as b}from"./ChangeNavbarComponent-2269013b.js";import{T as m,I as n}from"./TextInput-53c20e35.js";import{I as i}from"./InputLabel-663e683a.js";import{U as N}from"./UniversalButtonComponent-f1bb592c.js";import"./transition-06c8b019.js";import"./use-owner-1450a8ad.js";const o={width:"500px"};function k(d){const[C,v]=p.useState("");let c;const[y,h]=p.useState(!0);c=new URLSearchParams(window.location.search).get("id");const{data:s,setData:f,post:q,processing:z,errors:r,reset:S}=T({name:"",email:"",password:"",password_confirmation:"",firstname:"",lastname:"",department:"",TelNr1:"",TelNr2:"",rank:"",country:"",zip:"",city:"",street:"",role:""});p.useEffect(()=>{(async()=>{try{const a=await axios.post("/api/editUser",{id:c});console.log(a.data),v(a.data),f({id:c,name:a.data.user.name,email:a.data.user.email,role:a.data.user.role,firstname:a.data.persons.firstname,lastname:a.data.persons.lastname,department:a.data.persons.department,TelNr1:a.data.persons.TelNr1,TelNr2:a.data.persons.TelNr2,rank:a.data.persons.rank,personAddress_id:a.data.persons.personAddress_id,country:a.data.address.country,zip:a.data.address.ZIP,city:a.data.address.city,street:a.data.address.street})}catch(a){console.error("Fehler beim Laden der Daten:",a)}finally{h(!1)}})()},[c]);const g=u=>{u.preventDefault(),axios.post("/api/updateUser",s).then(()=>{window.location.href="AdminHome"}).catch(a=>{console.log("ERROR:: ",a.response.data)})},l=u=>{f(u.target.name,u.target.value)};return y?e("div",{children:"Laden..."}):e(w,{children:e("div",{children:e("div",{className:"flex justify-center align-center p-12",children:t("form",{onSubmit:g,children:[t("div",{style:o,children:[e(i,{className:"mt-4",forInput:"name",value:"Username"}),e(m,{id:"name",name:"name",value:s.name,className:"mt-1 block w-full",autoComplete:"name",isFocused:!0,handleChange:l,required:!0}),e(n,{message:r.name,className:"mt-2"})]}),t("div",{style:o,children:[e(i,{className:"mt-4",forInput:"email",value:"Email"}),e(m,{id:"email",type:"email",name:"email",value:s.email,className:"mt-1 block w-full",autoComplete:"username",handleChange:l,required:!0}),e(n,{message:r.email,className:"mt-2"})]}),t("div",{style:o,children:[e(i,{className:"mt-4",forInput:"firstname",value:"Vorname"}),e(m,{id:"firstname",name:"firstname",value:s.firstname,className:"mt-1 block w-full",autoComplete:"firstname",isFocused:!0,handleChange:l,required:!0}),e(n,{message:r.firstname,className:"mt-2"})]}),t("div",{style:o,children:[e(i,{className:"mt-4",forInput:"lastname",value:"Nachname"}),e(m,{id:"lastname",name:"lastname",value:s.lastname,className:"mt-1 block w-full",autoComplete:"lastname",handleChange:l,required:!0}),e(n,{message:r.lastname,className:"mt-2"})]}),t("div",{style:o,children:[e(i,{className:"mt-4",forInput:"department",value:"Abteilung"}),e(m,{id:"department",name:"department",value:s.department,className:"mt-1 block w-full",autoComplete:"department",handleChange:l}),e(n,{message:r.department,className:"mt-2"})]}),t("div",{style:o,children:[e(i,{className:"mt-4",forInput:"TelNr1",value:"Telefonnummer 1"}),e(m,{id:"TelNr1",name:"TelNr1",value:s.TelNr1,className:"mt-1 block w-full",autoComplete:"TelNr1",handleChange:l,required:!0}),e(n,{message:r.TelNr1,className:"mt-2"})]}),t("div",{style:o,children:[e(i,{className:"mt-4",forInput:"TelNr2",value:"Telefonnummer 2"}),e(m,{id:"TelNr2",name:"TelNr2",value:s.TelNr2,className:"mt-1 block w-full",autoComplete:"TelNr2",handleChange:l,required:!0}),e(n,{message:r.TelNr2,className:"mt-2"})]}),t("div",{style:o,children:[e(i,{className:"mt-4",forInput:"role",value:"Role"}),e(m,{id:"role",name:"role",value:s.role,className:"mt-1 block w-full",autoComplete:"role",handleChange:l,required:!0}),e(n,{message:r.role,className:"mt-2"})]}),t("div",{style:o,children:[e(i,{className:"mt-4",forInput:"country",value:"Country"}),e(m,{id:"country",name:"country",value:s.country,className:"mt-1 block w-full",autoComplete:"country",handleChange:l,required:!0}),e(n,{message:r.country,className:"mt-2"})]}),t("div",{style:o,children:[e(i,{className:"mt-4",forInput:"zip",value:"Postleitzahl"}),e(m,{id:"zip",name:"zip",value:s.zip,className:"mt-1 block w-full",autoComplete:"zip",handleChange:l,required:!0}),e(n,{message:r.zip,className:"mt-2"})]}),t("div",{style:o,children:[e(i,{className:"mt-4",forInput:"city",value:"City"}),e(m,{id:"city",name:"city",value:s.city,className:"mt-1 block w-full",autoComplete:"city",handleChange:l,required:!0}),e(n,{message:r.city,className:"mt-2"})]}),t("div",{style:o,children:[e(i,{className:"mt-4",forInput:"street",value:"Street"}),e(m,{id:"street",name:"street",value:s.street,className:"mt-1 block w-full",autoComplete:"street",handleChange:l,required:!0}),e(n,{message:r.street,className:"mt-2"})]}),t("div",{className:"flex justify-center align-center p-5",children:[e(N,{type:"submit",text:"Update"}),e("div",{className:"mx-2"}),e(N,{type:"button",href:"AdminHome",text:"Zur√ºck"})]})]})})})})}function E(d){return console.log(d),t("div",{children:[e(I,{title:"AdminUpdatePage"}),e(b,{auth:d.auth}),e(k,{name:d})]})}export{E as default};
